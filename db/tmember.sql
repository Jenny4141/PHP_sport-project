

-- 重新創建 tmember 表，並加入所有約束
CREATE TABLE `tmember` (
    `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `members_id` BIGINT NOT NULL,
    `team_id` BIGINT NOT NULL,

    CONSTRAINT `uk_tmember_team_member` UNIQUE (`team_id`, `members_id`),
    CONSTRAINT `fk_tmember_members` FOREIGN KEY (`members_id`) REFERENCES `members`(`id`)
        ON DELETE CASCADE ON UPDATE CASCADE,
    CONSTRAINT `fk_tmember_teams` FOREIGN KEY (`team_id`) REFERENCES `teams`(`id`)
        ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- 插入資料
-- 注意：在外鍵約束下，這裡的 members_id 和 team_id 必須在對應的 members 和 teams 表中存在。
INSERT INTO `tmember` (`id`, `members_id`, `team_id`) VALUES
(2, 476, 1),
(5, 566, 1),
(3, 570, 1),
(4, 683, 1),
(1, 694, 1),
(6, 896, 1),
(10, 53, 2),
(12, 181, 2),
(9, 633, 2),
(7, 922, 2),
(8, 923, 2),
(11, 947, 2),
(18, 22, 3),
(14, 195, 3),
(17, 289, 3),
(13, 403, 3),
(16, 599, 3),
(15, 779, 3),
(22, 96, 4),
(23, 193, 4),
(21, 268, 4),
(24, 283, 4),
(20, 298, 4),
(19, 813, 4),
(30, 37, 5),
(26, 179, 5),
(28, 413, 5),
(25, 583, 5),
(27, 659, 5),
(29, 835, 5),
(32, 15, 6),
(31, 196, 6),
(36, 209, 6),
(35, 642, 6),
(33, 743, 6),
(34, 995, 6),
(38, 43, 7),
(39, 269, 7),
(42, 388, 7),
(41, 618, 7),
(40, 890, 7),
(37, 895, 7),
(43, 117, 8),
(44, 359, 8),
(46, 395, 8),
(45, 491, 8),
(48, 685, 8),
(47, 991, 8),
(54, 2, 9),
(52, 103, 9),
(51, 172, 9),
(50, 346, 9),
(53, 554, 9),
(49, 731, 9),
(55, 296, 10),
(56, 340, 10),
(58, 358, 10),
(59, 482, 10),
(57, 898, 10),
(60, 918, 10),
(64, 211, 11),
(66, 428, 11),
(62, 515, 11),
(65, 716, 11),
(63, 873, 11),
(61, 920, 11),
(71, 104, 12),
(69, 265, 12),
(67, 520, 12),
(72, 662, 12),
(70, 902, 12),
(68, 928, 12),
(76, 97, 13),
(73, 171, 13),
(78, 321, 13),
(74, 646, 13),
(77, 870, 13),
(75, 893, 13),
(83, 31, 14),
(82, 282, 14),
(80, 644, 14),
(81, 715, 14),
(84, 720, 14),
(79, 927, 14),
(86, 290, 15),
(90, 381, 15),
(89, 392, 15),
(88, 477, 15),
(87, 519, 15),
(85, 564, 15),
(91, 121, 16),
(93, 315, 16),
(94, 344, 16),
(96, 354, 16),
(95, 404, 16),
(92, 867, 16),
(97, 217, 17),
(99, 661, 17),
(101, 773, 17),
(98, 880, 17),
(102, 886, 17),
(100, 998, 17),
(106, 91, 18),
(107, 133, 18),
(108, 142, 18),
(105, 466, 18),
(104, 513, 18),
(103, 572, 18),
(109, 99, 19),
(112, 367, 19),
(111, 370, 19),
(110, 465, 19),
(113, 489, 19),
(114, 745, 19),
(120, 118, 20),
(115, 250, 20),
(118, 328, 20),
(116, 533, 20),
(117, 548, 20),
(119, 988, 20),
(125, 407, 21),
(126, 507, 21),
(123, 597, 21),
(122, 692, 21),
(124, 811, 21),
(121, 912, 21),
(127, 223, 22),
(128, 362, 22),
(131, 761, 22),
(132, 780, 22),
(130, 848, 22),
(129, 921, 22),
(135, 61, 23),
(136, 144, 23),
(138, 440, 23),
(134, 606, 23),
(133, 741, 23),
(137, 860, 23),
(144, 136, 24),
(139, 343, 24),
(140, 409, 24),
(142, 549, 24),
(143, 785, 24),
(141, 901, 24),
(149, 147, 25),
(147, 177, 25),
(145, 390, 25),
(148, 539, 25),
(150, 590, 25),
(146, 945, 25),
(151, 238, 26),
(154, 516, 26),
(156, 541, 26),
(153, 558, 26),
(155, 900, 26),
(152, 975, 26),
(157, 313, 27),
(159, 355, 27),
(158, 498, 27),
(160, 668, 27),
(162, 737, 27),
(161, 917, 27),
(163, 17, 28),
(168, 218, 28),
(164, 259, 28),
(166, 272, 28),
(167, 615, 28),
(165, 725, 28),
(172, 360, 29),
(170, 511, 29),
(171, 547, 29),
(173, 643, 29),
(174, 658, 29),
(169, 819, 29),
(176, 191, 30),
(179, 334, 30),
(177, 492, 30),
(175, 588, 30),
(180, 717, 30),
(178, 865, 30),
(185, 304, 31),
(184, 423, 31),
(181, 427, 31),
(183, 636, 31),
(182, 701, 31),
(186, 845, 31),
(192, 180, 32),
(190, 385, 32),
(189, 439, 32),
(191, 612, 32),
(188, 791, 32),
(187, 957, 32),
(193, 75, 33),
(197, 100, 33),
(198, 302, 33),
(196, 706, 33),
(195, 960, 33),
(194, 982, 33),
(199, 155, 34),
(202, 213, 34),
(203, 364, 34),
(204, 417, 34),
(200, 726, 34),
(201, 919, 34),
(206, 63, 35),
(205, 192, 35),
(210, 336, 35),
(208, 765, 35),
(209, 908, 35),
(207, 966, 35),
(214, 42, 36),
(215, 114, 36),
(213, 267, 36),
(217, 611, 36),
(212, 822, 36),
(211, 839, 36),
(216, 985, 36),
(221, 187, 37),
(222, 330, 37),
(219, 389, 37),
(224, 394, 37),
(218, 418, 37),
(220, 429, 37),
(223, 852, 37),
(225, 112, 38),
(226, 161, 38),
(227, 348, 38),
(231, 431, 38),
(230, 522, 38),
(228, 690, 38),
(229, 863, 38),
(233, 170, 39),
(232, 446, 39),
(237, 501, 39),
(236, 523, 39),
(235, 740, 39),
(238, 770, 39),
(234, 983, 39),
(239, 23, 40),
(245, 44, 40),
(242, 77, 40),
(243, 481, 40),
(240, 531, 40),
(244, 803, 40),
(241, 969, 40),
(249, 247, 41),
(247, 293, 41),
(251, 317, 41),
(248, 393, 41),
(250, 751, 41),
(252, 882, 41),
(246, 932, 41),
(253, 382, 42),
(254, 414, 42),
(255, 632, 42),
(258, 686, 42),
(257, 800, 42),
(259, 832, 42),
(256, 924, 42),
(262, 105, 43),
(264, 165, 43),
(261, 294, 43),
(260, 308, 43),
(266, 442, 43),
(265, 546, 43),
(263, 608, 43),
(269, 230, 44),
(270, 434, 44),
(271, 467, 44),
(268, 552, 44),
(267, 759, 44),
(273, 771, 44),
(272, 855, 44),
(275, 18, 45),
(276, 182, 45),
(277, 443, 45),
(279, 521, 45),
(278, 526, 45),
(280, 699, 45),
(274, 746, 45),
(287, 16, 46),
(283, 19, 46),
(284, 691, 46),
(281, 700, 46),
(282, 833, 46),
(286, 857, 46),
(285, 915, 46),
(293, 135, 47),
(289, 353, 47),
(290, 505, 47),
(288, 543, 47),
(292, 602, 47),
(294, 667, 47),
(291, 689, 47),
(295, 123, 48),
(299, 462, 48),
(296, 617, 48),
(300, 747, 48),
(297, 768, 48),
(298, 859, 48),
(301, 881, 48),
(302, 119, 49),
(303, 130, 49),
(308, 197, 49),
(306, 444, 49),
(307, 670, 49),
(305, 707, 49),
(304, 837, 49),
(310, 33, 50),
(314, 287, 50),
(315, 411, 50),
(311, 469, 50),
(313, 738, 50),
(309, 971, 50),
(312, 996, 50),
(319, 134, 51),
(316, 261, 51),
(320, 345, 51),
(321, 374, 51),
(317, 782, 51),
(318, 794, 51),
(322, 938, 51),
(325, 40, 52),
(328, 183, 52),
(327, 186, 52),
(329, 721, 52),
(324, 766, 52),
(326, 939, 52),
(323, 972, 52),
(331, 10, 53),
(335, 245, 53),
(334, 591, 53),
(330, 629, 53),
(333, 653, 53),
(332, 790, 53),
(336, 801, 53),
(338, 122, 54),
(341, 291, 54),
(340, 396, 54),
(343, 406, 54),
(337, 437, 54),
(342, 681, 54),
(339, 735, 54),
(349, 84, 55),
(350, 109, 55),
(346, 463, 55),
(347, 517, 55),
(345, 581, 55),
(348, 734, 55),
(344, 755, 55),
(353, 82, 56),
(357, 184, 56),
(356, 322, 56),
(354, 366, 56),
(351, 733, 56),
(355, 788, 56),
(352, 836, 56),
(361, 88, 57),
(363, 460, 57),
(360, 587, 57),
(358, 598, 57),
(362, 711, 57),
(364, 727, 57),
(359, 903, 57),
(367, 50, 58),
(368, 60, 58),
(369, 276, 58),
(366, 339, 58),
(365, 452, 58),
(371, 647, 58),
(370, 754, 58),
(376, 24, 59),
(372, 79, 59),
(375, 162, 59),
(378, 215, 59),
(373, 324, 59),
(374, 447, 59),
(377, 672, 59),
(380, 85, 60),
(383, 108, 60),
(384, 158, 60),
(385, 256, 60),
(379, 311, 60),
(382, 342, 60),
(381, 978, 60),
(389, 203, 61),
(386, 357, 61),
(392, 537, 61),
(390, 574, 61),
(391, 592, 61),
(387, 622, 61),
(388, 866, 61),
(397, 379, 62),
(398, 419, 62),
(394, 455, 62),
(395, 500, 62),
(399, 674, 62),
(396, 812, 62),
(393, 843, 62),
(405, 255, 63),
(403, 326, 63),
(402, 397, 63),
(401, 435, 63),
(400, 461, 63),
(406, 485, 63),
(404, 551, 63),
(411, 201, 64),
(409, 206, 64),
(410, 274, 64),
(407, 438, 64),
(408, 473, 64),
(413, 665, 64),
(412, 806, 64),
(419, 449, 65),
(418, 457, 65),
(414, 540, 65),
(416, 649, 65),
(420, 675, 65),
(417, 823, 65),
(415, 989, 65),
(421, 361, 66),
(422, 534, 66),
(426, 736, 66),
(424, 808, 66),
(423, 821, 66),
(427, 891, 66),
(425, 936, 66),
(429, 425, 67),
(433, 506, 67),
(430, 697, 67),
(428, 887, 67),
(432, 899, 67),
(434, 949, 67),
(431, 984, 67),
(436, 78, 68),
(440, 146, 68),
(435, 241, 68),
(437, 433, 68),
(439, 562, 68),
(438, 652, 68),
(441, 964, 68),
(448, 28, 69),
(446, 56, 69),
(445, 233, 69),
(447, 309, 69),
(444, 600, 69),
(443, 749, 69),
(442, 809, 69),
(449, 350, 70),
(452, 480, 70),
(454, 559, 70),
(450, 657, 70),
(451, 722, 70),
(453, 760, 70),
(455, 784, 70),
(461, 422, 71),
(460, 487, 71),
(459, 542, 71),
(457, 576, 71),
(456, 582, 71),
(458, 709, 71),
(462, 856, 71),
(465, 6, 72),
(466, 125, 72),
(463, 260, 72),
(468, 288, 72),
(469, 363, 72),
(464, 474, 72),
(467, 937, 72),
(471, 21, 73),
(472, 157, 73),
(475, 593, 73),
(476, 610, 73),
(473, 695, 73),
(470, 798, 73),
(474, 951, 73),
(483, 239, 74),
(481, 325, 74),
(480, 338, 74),
(478, 451, 74),
(482, 648, 74),
(479, 817, 74),
(477, 858, 74),
(488, 9, 75),
(484, 194, 75),
(490, 270, 75),
(487, 386, 75),
(485, 458, 75),
(486, 616, 75),
(489, 963, 75),
(497, 41, 76),
(491, 89, 76),
(493, 252, 76),
(492, 525, 76),
(496, 529, 76),
(494, 567, 76),
(495, 944, 76),
(500, 4, 77),
(503, 167, 77),
(504, 620, 77),
(498, 654, 77),
(499, 703, 77),
(501, 774, 77),
(502, 789, 77),
(510, 39, 78),
(512, 98, 78),
(506, 299, 78),
(507, 373, 78),
(505, 426, 78),
(508, 497, 78),
(511, 589, 78),
(509, 778, 78),
(516, 48, 79),
(515, 220, 79),
(517, 264, 79),
(513, 316, 79),
(520, 623, 79),
(514, 666, 79),
(518, 799, 79),
(519, 841, 79),
(523, 58, 80),
(526, 65, 80),
(525, 71, 80),
(524, 94, 80),
(528, 273, 80),
(527, 400, 80),
(522, 673, 80),
(521, 929, 80),
(533, 3, 81),
(536, 169, 81),
(535, 281, 81),
(530, 494, 81),
(531, 536, 81),
(529, 575, 81),
(532, 645, 81),
(534, 810, 81),
(537, 80, 82),
(540, 129, 82),
(538, 204, 82),
(541, 504, 82),
(544, 561, 82),
(539, 625, 82),
(543, 637, 82),
(542, 877, 82),
(545, 329, 83),
(552, 445, 83),
(547, 450, 83),
(546, 571, 83),
(551, 688, 83),
(550, 750, 83),
(548, 775, 83),
(549, 853, 83),
(555, 106, 84),
(558, 110, 84),
(554, 401, 84),
(556, 732, 84),
(560, 758, 84),
(557, 930, 84),
(553, 954, 84),
(559, 965, 84),
(568, 286, 85),
(567, 399, 85),
(566, 464, 85),
(563, 509, 85),
(565, 634, 85),
(564, 802, 85),
(562, 872, 85),
(561, 970, 85),
(575, 47, 86),
(572, 327, 86),
(573, 459, 86),
(574, 468, 86),
(569, 777, 86),
(570, 911, 86),
(576, 914, 86),
(571, 999, 86),
(578, 76, 87),
(577, 127, 87),
(580, 284, 87),
(584, 368, 87),
(581, 420, 87),
(582, 669, 87),
(579, 714, 87),
(583, 976, 87),
(590, 68, 88),
(585, 248, 88),
(587, 280, 88),
(592, 307, 88),
(588, 320, 88),
(591, 378, 88),
(589, 508, 88),
(586, 718, 88),
(597, 86, 89),
(596, 168, 89),
(595, 202, 89),
(600, 532, 89),
(593, 545, 89),
(598, 628, 89),
(599, 677, 89),
(594, 772, 89),
(603, 7, 90),
(607, 163, 90),
(601, 240, 90),
(608, 356, 90),
(605, 563, 90),
(606, 604, 90),
(602, 950, 90),
(604, 981, 90),
(610, 297, 91),
(611, 372, 91),
(612, 412, 91),
(609, 844, 91),
(616, 851, 91),
(614, 862, 91),
(613, 948, 91),
(615, 953, 91),
(619, 102, 92),
(623, 352, 92),
(618, 436, 92),
(622, 586, 92),
(621, 826, 92),
(620, 875, 92),
(617, 916, 92),
(624, 961, 92),
(631, 226, 93),
(632, 242, 93),
(627, 607, 93),
(626, 676, 93),
(625, 684, 93),
(629, 781, 93),
(630, 814, 93),
(628, 958, 93),
(634, 5, 94),
(633, 46, 94),
(638, 188, 94),
(635, 190, 94),
(636, 231, 94),
(640, 333, 94),
(639, 619, 94),
(637, 974, 94),
(647, 153, 95),
(646, 375, 95),
(644, 380, 95),
(641, 432, 95),
(642, 664, 95),
(643, 795, 95),
(648, 906, 95),
(645, 931, 95),
(655, 81, 96),
(650, 164, 96),
(651, 176, 96),
(653, 236, 96),
(654, 237, 96),
(649, 300, 96),
(652, 448, 96),
(656, 847, 96),
(662, 12, 97),
(659, 20, 97),
(658, 310, 97),
(660, 347, 97),
(664, 621, 97),
(657, 631, 97),
(661, 696, 97),
(663, 910, 97),
(665, 11, 98),
(672, 371, 98),
(666, 424, 98),
(671, 496, 98),
(670, 555, 98),
(668, 573, 98),
(667, 596, 98),
(669, 868, 98),
(677, 160, 99),
(679, 208, 99),
(675, 228, 99),
(676, 285, 99),
(673, 398, 99),
(680, 402, 99),
(674, 712, 99),
(678, 913, 99),
(682, 138, 100),
(681, 152, 100),
(687, 185, 100),
(683, 205, 100),
(686, 383, 100),
(685, 544, 100),
(688, 627, 100),
(684, 885, 100),
(691, 200, 101),
(693, 235, 101),
(694, 301, 101),
(695, 478, 101),
(689, 518, 101),
(692, 585, 101),
(696, 702, 101),
(690, 820, 101),
(702, 253, 102),
(701, 263, 102),
(704, 332, 102),
(697, 430, 102),
(699, 719, 102),
(703, 764, 102),
(700, 874, 102),
(698, 926, 102),
(711, 59, 103),
(705, 124, 103),
(710, 453, 103),
(706, 483, 103),
(712, 603, 103),
(707, 708, 103),
(708, 713, 103),
(709, 943, 103);